document.addEventListener("DOMContentLoaded", function() {
	var etree = ['http://etree.linkedmusic.org/track/sp2007-06-24.mk4.flac24-4','http://etree.linkedmusic.org/track/tsp2007-06-06.flac16-6','http://etree.linkedmusic.org/track/tsp2000-04-22.flac16-14','http://etree.linkedmusic.org/track/tsp2007-10-06.quinto-10','http://etree.linkedmusic.org/track/tsp2000-09-18.sbd.shn-2','http://etree.linkedmusic.org/track/tsp1993-11-02.flac16-5','http://etree.linkedmusic.org/track/tsp2008-02-14.dpa4061.rob.flac16-14','http://etree.linkedmusic.org/track/tsp2000-09-29.ecm.flac16-2','http://etree.linkedmusic.org/track/tsp1993-10-21.flac16-4','http://etree.linkedmusic.org/track/tsp2010-07-27.dr07.flac16-6','http://etree.linkedmusic.org/track/sp2007-07-02.cabbage.AKGck93.flac16-5','http://etree.linkedmusic.org/track/tsp2000-04-08.csb.flac16-16','http://etree.linkedmusic.org/track/tsp2000-04-21.at853.flac16-17','http://etree.linkedmusic.org/track/tsp1996-09-13.ana1-7','http://etree.linkedmusic.org/track/tsp1994-02-26.flac16-5','http://etree.linkedmusic.org/track/tsp2008-11-14.flac24-14','http://etree.linkedmusic.org/track/tsp1993-09-08.shn-3','http://etree.linkedmusic.org/track/tsp2007-10-15.flac16-16','http://etree.linkedmusic.org/track/tsp2010-07-26.mk4.flac16-7','http://etree.linkedmusic.org/track/tsp2012-07-31.cmc8.flac24-23','http://etree.linkedmusic.org/track/tsp1996-01-05.tsp1996-01-05-5','http://etree.linkedmusic.org/track/tsp2007-06-24.ksproul.flac16-4','http://etree.linkedmusic.org/track/tsp1996-02-09.flac16-5','http://etree.linkedmusic.org/track/tsp1993-07-28.flac16_48-4','http://etree.linkedmusic.org/track/tsp2000-04-12.flac16-17','http://etree.linkedmusic.org/track/tsp1996-05-14.shn-7','http://etree.linkedmusic.org/track/tsp1992-09-12.shn-5','http://etree.linkedmusic.org/track/tsp1996-11-02.flac16-7','http://etree.linkedmusic.org/track/tsp2010-07-12.dab.flac16-7','http://etree.linkedmusic.org/track/tsp2012-12-04.live2cd.flac24-24','http://etree.linkedmusic.org/track/tsp1996-08-28.anam-6','http://etree.linkedmusic.org/track/tsp2007-06-30.mk4.flac24-2','http://etree.linkedmusic.org/track/tsp2008-01-30.flac16-13','http://etree.linkedmusic.org/track/tsp2000-05-19.flac16-13','http://etree.linkedmusic.org/track/tsp1994-07-12.shn-11','http://etree.linkedmusic.org/track/tsp2000-05-23.flac16-16','http://etree.linkedmusic.org/track/tsp2010-09-24.flac16-3','http://etree.linkedmusic.org/track/tsp1996-10-29.flac16-7','http://etree.linkedmusic.org/track/tsp1993-10-06.shn-3','http://etree.linkedmusic.org/track/tsp1994-08-21.dsm6s.flac16_48-10','http://etree.linkedmusic.org/track/tsp2008-11-29.builtin.r09-16','http://etree.linkedmusic.org/track/tsp2007-06-30.ksproul.flac16-2','http://etree.linkedmusic.org/track/tsp2008-02-06.flac16-13','http://etree.linkedmusic.org/track/tsp1993-10-18.shn-3','http://etree.linkedmusic.org/track/tsp1993-09-09.shn-3','http://etree.linkedmusic.org/track/tsp2000-02-23.flac16-2','http://etree.linkedmusic.org/track/tsp1993-12-01.flac16-3','http://etree.linkedmusic.org/track/tsp1993-10-28.pro.flac16-8','http://etree.linkedmusic.org/track/tsp2000-05-02.4061.flac16-16','http://etree.linkedmusic.org/track/tsp1994-05-23.shn-3','http://etree.linkedmusic.org/track/tsp2007-07-28.csb.flac24-7','http://etree.linkedmusic.org/track/tsp1996-04-12.shn-14','http://etree.linkedmusic.org/track/sp1999-04-21.sennheiser.flac16-16','http://etree.linkedmusic.org/track/tsp2007-09-30.dsm6s-13','http://etree.linkedmusic.org/track/tsp2000-10-08.flac16-2','http://etree.linkedmusic.org/track/tsp1996-11-01.flac-7','http://etree.linkedmusic.org/track/tsp2008-10-31.church.flac16-23','http://etree.linkedmusic.org/track/tsp1994-04-17.flac16-12','http://etree.linkedmusic.org/track/tsp1993-10-22.shn-3','http://etree.linkedmusic.org/track/tsp1996-05-26.ana1.flac16-6','http://etree.linkedmusic.org/track/tsp2007-10-21.mk4.flac16-15','http://etree.linkedmusic.org/track/tsp1996-04-15.ssdsm6.flac16-18','http://etree.linkedmusic.org/track/tsp1995-10-19.flac16-4','http://etree.linkedmusic.org/track/tsp2013-08-13.dab-19','http://etree.linkedmusic.org/track/tsp2000-09-20.sbd.flac16-2','http://etree.linkedmusic.org/track/tsp2000-12-02.brown.shn-35','http://etree.linkedmusic.org/track/tsp2000-05-23.csb.ms702.flac16-16','http://etree.linkedmusic.org/track/tsp1993-11-23.flac16-3','http://etree.linkedmusic.org/track/tsp1996-08-31.flac-7','http://etree.linkedmusic.org/track/tsp1996-04-28.em8.flac16-4','http://etree.linkedmusic.org/track/tsp2007-11-13.dsm6s-11','http://etree.linkedmusic.org/track/tsp1996-08-28.complete.flac16-7','http://etree.linkedmusic.org/track/sp2008-02-19.flac24-13','http://etree.linkedmusic.org/track/tsp2008-02-18.flac16-14','http://etree.linkedmusic.org/track/tsp2000-10-27.FM.flacf-2','http://etree.linkedmusic.org/track/tsp1993-11-20.flac16-3','http://etree.linkedmusic.org/track/tsp1992-09-04.flac16-1','http://etree.linkedmusic.org/track/tsp1992-12-11.hi8.dat-2','http://etree.linkedmusic.org/track/tsp2012-10-25.flac16-19','http://etree.linkedmusic.org/track/tsp1996-04-10.flac16-7','http://etree.linkedmusic.org/track/tsp2007-08-16.flac16-13','http://etree.linkedmusic.org/track/tsp2007-07-27.flac16-6','http://etree.linkedmusic.org/track/tsp2000-03-07.shn-4','http://etree.linkedmusic.org/track/tsp1996-09-20.ana1-7','http://etree.linkedmusic.org/track/tsp2012-10-28.tsp2012-10-28-24','http://etree.linkedmusic.org/track/tsp2000-10-20.shn-4','http://etree.linkedmusic.org/track/tsp2000-09-23.flac16-2','http://etree.linkedmusic.org/track/tsp1993-11-21.ana1.SPC-4','http://etree.linkedmusic.org/track/tsp1996-10-26.shn-7','http://etree.linkedmusic.org/track/tsp1995-08-23.flac16-3','http://etree.linkedmusic.org/track/tsp2008-03-29.spcmc2-2','http://etree.linkedmusic.org/track/tsp1996-07-06.flac16-6','http://etree.linkedmusic.org/track/tsp2007-07-27.csb.flac24-6','http://etree.linkedmusic.org/track/tsp1995-12-12.ecm909a.flac16-6','http://etree.linkedmusic.org/track/tsp1996-05-14.vhs2.flac16-7','http://etree.linkedmusic.org/track/tsp2000-11-01.shn-3','http://etree.linkedmusic.org/track/tsp1996-07-02.ecm.flac16-7','http://etree.linkedmusic.org/track/tsp1994-03-23.shn-3','http://etree.linkedmusic.org/track/tsp1993-09-25.shn-4','http://etree.linkedmusic.org/track/tsp2007-09-28.raw.aud.flac24-13'];

	var audio = ['http://archive.org/download/sp2007-06-24.mk4.flac24/tsp2007-06-24.mk4.t04.flac','http://archive.org/download/tsp2007-06-06.flac16/tsp2007-06-06d1t06.flac','http://archive.org/download/tsp2000-04-22.flac16/tsp2000-04-22t14.flac','http://archive.org/download/tsp2007-10-06.quinto/tsp2007-10-06t10.flac','http://archive.org/download/tsp2000-09-18.sbd.shn/tsp2000-09-18d1t02.shn','http://archive.org/download/tsp1993-11-02.flac16/tsp1993-11-02t05.flac','http://archive.org/download/tsp2008-02-14.dpa4061.rob.flac16/tsp2008-02-14d2t03.flac','http://archive.org/download/tsp2000-09-29.ecm.flac16/tsp20000929d1t02.flac','http://archive.org/download/tsp1993-10-21.flac16/tsp1993-10-21t04.flac','http://archive.org/download/tsp2010-07-27.dr07.flac16/06Today.flac','http://archive.org/download/sp2007-07-02.cabbage.AKGck93.flac16/sp2007-07-02t05.flac','http://archive.org/download/tsp2000-04-08.csb.flac16/tsp2000-04-08.csb.t16.flac','http://archive.org/download/tsp2000-04-21.at853.flac16/tsp2000-04-21.at853.t17.flac','http://archive.org/download/tsp1996-09-13.ana1/tsp1996-09-13t07.flac','http://archive.org/download/tsp1994-02-26.flac16/tsp1994-02-26d01t05.flac','http://archive.org/download/tsp2008-11-14.flac24/tsp2008-11-14d2t02.flac','http://archive.org/download/tsp1993-09-08.shn/tsp1993-09-08d1t03.shn','http://archive.org/download/tsp2007-10-15.flac16/tsp2007-10-15t16.flac','http://archive.org/download/tsp2010-07-26.mk4.flac16/tsp2010-07-26.mk4.t07.flac','http://archive.org/download/tsp2012-07-31.cmc8.flac24/tsp20120731t23.flac','http://archive.org/download/tsp1996-01-05.tsp1996-01-05/1996-01-05New9-30ClubD105.flac','http://archive.org/download/tsp2007-06-24.ksproul.flac16/tsp2007-06-24d1t04.flac','http://archive.org/download/tsp1996-02-09.flac16/tsp1996-02-09t05.flac','http://archive.org/download/tsp1993-07-28.flac16_48/SmashingPumpkins-Metro-July28-1993-SonyD3-SonyECMS220-16bit-48K_T04.flac','http://archive.org/download/tsp2000-04-12.flac16/tsp2000-04-12d2t03.flac','http://archive.org/download/tsp1996-05-14.shn/d1t07-today.shn','http://archive.org/download/tsp1992-09-12.shn/tsp1992-09-12d1t05.shn','http://archive.org/download/tsp1996-11-02.flac16/tsp1996-11-02d1t07.flac','http://archive.org/download/tsp2010-07-12.dab.flac16/tsp2010-07-12.dab.t07.flac','http://archive.org/download/tsp2012-12-04.live2cd.flac24/tsp2012-12-04t24.flac','http://archive.org/download/tsp1996-08-28.anam/tsp1996-08-28t06.flac','http://archive.org/download/tsp2007-06-30.mk4.flac24/tsp2007-06-30.mk4.t02.flac','http://archive.org/download/tsp2008-01-30.flac16/tsp2008-01-30t13.flac','http://archive.org/download/tsp2000-05-19.flac16/tsp2000-05-19t13.flac','http://archive.org/download/tsp1994-07-12.shn/tsp1994-07-12t11.shn','http://archive.org/download/tsp2000-05-23.flac16/tsp2000-05-23d2t03.flac','http://archive.org/download/tsp2010-09-24.flac16/tsp2010-09-24t03.flac','http://archive.org/download/tsp1996-10-29.flac16/tsp1996-10-29d1t07.flac','http://archive.org/download/tsp1993-10-06.shn/tsp1993-10-06d1t03.shn','http://archive.org/download/tsp1994-08-21.dsm6s.flac16_48/smashingpumpkins1994-08-21tr10.flac','http://archive.org/download/tsp2008-11-29.builtin.r09/tsp2008-11-29t16.flac','http://archive.org/download/tsp2007-06-30.ksproul.flac16/tsp2007-06-30d1t02.flac','http://archive.org/download/tsp2008-02-06.flac16/sp06022008-d1t13.flac','http://archive.org/download/tsp1993-10-18.shn/tsp1993-10-18d1t03.shn','http://archive.org/download/tsp1993-09-09.shn/sp1993-09-09d1t03.shn','http://archive.org/download/tsp2000-02-23.flac16/tsp2000-02-23t02.flac','http://archive.org/download/tsp1993-12-01.flac16/tsp1993-12-01t03.flac','http://archive.org/download/tsp1993-10-28.pro.flac16/tsp19931028t08.flac','http://archive.org/download/tsp2000-05-02.4061.flac16/tsp2000-05-02.4061.t16.flac','http://archive.org/download/tsp1994-05-23.shn/tsp1994-05-23t03.shn','http://archive.org/download/tsp2007-07-28.csb.flac24/tsp2007-07-28.csb.t07.flac','http://archive.org/download/tsp1996-04-12.shn/tsp1996-04-12t14.shn','http://archive.org/download/sp1999-04-21.sennheiser.flac16/sp1999-04-21d2t03.flac','http://archive.org/download/tsp2007-09-30.dsm6s/tsp2007-09-30t13.flac','http://archive.org/download/tsp2000-10-08.flac16/tsp2000-10-08t02.flac','http://archive.org/download/tsp1996-11-01.flac/tsp1996-11-01d1t07.flac','http://archive.org/download/tsp2008-10-31.church.flac16/tsp2008-10-31t23.flac','http://archive.org/download/tsp1994-04-17.flac16/tsp1994-04-17t12.flac','http://archive.org/download/tsp1993-10-22.shn/tsp1993-10-22t03.shn','http://archive.org/download/tsp1996-05-26.ana1.flac16/tsp1996-05-26t06.flac','http://archive.org/download/tsp2007-10-21.mk4.flac16/tsp2007-10-21.mk4.t15.flac','http://archive.org/download/tsp1996-04-15.ssdsm6.flac16/tsp1996-04-15.ssdsm6.d2t04.flac','http://archive.org/download/tsp1995-10-19.flac16/tsp1995-10-19d1t04.flac','http://archive.org/download/tsp2013-08-13.dab/tsp2013-08-13.dab.t19.flac','http://archive.org/download/tsp2000-09-20.sbd.flac16/tsp2000-09-20t02.flac','http://archive.org/download/tsp2000-12-02.brown.shn/sp2000-12-02d3t11.shn','http://archive.org/download/tsp2000-05-23.csb.ms702.flac16/tsp2000-05-23d2t03.csb.ms702.flac','http://archive.org/download/tsp1993-11-23.flac16/tsp1993-11-23d1t03.flac','http://archive.org/download/tsp1996-08-31.flac/tsp1996-08-31d1t07.flac','http://archive.org/download/tsp1996-04-28.em8.flac16/tsp1996-04-28.em8.d1t04.flac','http://archive.org/download/tsp2007-11-13.dsm6s/tsp2007-11-13t11.flac','http://archive.org/download/tsp1996-08-28.complete.flac16/tsp1996-08-28t07.flac','http://archive.org/download/sp2008-02-19.flac24/tsp2008-02-19t13.flac','http://archive.org/download/tsp2008-02-18.flac16/tsp2008-02-18t14.flac','http://archive.org/download/tsp2000-10-27.FM.flacf/tsp2000-10-27d1t02.flac','http://archive.org/download/tsp1993-11-20.flac16/tsp1993-11-20t03.flac','http://archive.org/download/tsp1992-09-04.flac16/tsp1992-09-04t01.flac','http://archive.org/download/tsp1992-12-11.hi8.dat/tsp1992-12-11t02.flac','http://archive.org/download/tsp2012-10-25.flac16/tsp2012-10-25d2t04.flac','http://archive.org/download/tsp1996-04-10.flac16/tsp1996-04-10t07.flac','http://archive.org/download/tsp2007-08-16.flac16/tsp2007-08-16t13.flac','http://archive.org/download/tsp2007-07-27.flac16/tsp2007-07-27d1t06.flac','http://archive.org/download/tsp2000-03-07.shn/tsp2000-03-07t04.shn','http://archive.org/download/tsp1996-09-20.ana1/tsp1996-09-20t07.flac','http://archive.org/download/tsp2012-10-28.tsp2012-10-28/tsp2012-10-28t24.flac','http://archive.org/download/tsp2000-10-20.shn/20001020.01.04.shn','http://archive.org/download/tsp2000-09-23.flac16/sp2000-09-23d1t02.flac','http://archive.org/download/tsp1993-11-21.ana1.SPC/tsp1993-11-21t04_SPC.flac','http://archive.org/download/tsp1996-10-26.shn/sp1996-10-26d1t07.shn','http://archive.org/download/tsp1995-08-23.flac16/tsp1995-08-23t03.flac','http://archive.org/download/tsp2008-03-29.spcmc2/tsp2008-03-29d1t02.flac','http://archive.org/download/tsp1996-07-06.flac16/tsp1996-07-06t06.shn','http://archive.org/download/tsp2007-07-27.csb.flac24/tsp2007-07-27.csb.t06.flac','http://archive.org/download/tsp1995-12-12.ecm909a.flac16/tsp1995-12-12.ecm909a.d1t06.flac','http://archive.org/download/tsp1996-05-14.vhs2.flac16/tsp1996-05-14t07.flac','http://archive.org/download/tsp2000-11-01.shn/d1t03-today.shn','http://archive.org/download/tsp1996-07-02.ecm.flac16/tsp1996-07-02d1t07.flac','http://archive.org/download/tsp1994-03-23.shn/tsp1994-03-23t03.shn','http://archive.org/download/tsp1993-09-25.shn/tsp1993-09-25d1t04.shn','http://archive.org/download/tsp2007-09-28.raw.aud.flac24/13_-_To_Sheila.flac'];

  var rects = document.querySelectorAll('.candidate');
  var interactionContainer = document.querySelector("#interaction")
  rects.forEach(function(rect, ix) { 
	console.log("looking at ix ", ix, etree[ix]);
	var rectBox = rect.getBoundingClientRect();
	var interactDiv = document.createElement('div');
	interactDiv.style.position="absolute";
	interactDiv.style.left = Math.round(rectBox.left) + 'px';
	interactDiv.style.top = Math.round(rectBox.top + 2) + 'px';
	interactDiv.style["min-width"] = Math.round(rectBox.width-2) + 'px';
	interactDiv.style["min-height"]= Math.round(rectBox.height-4) + 'px';
	interactDiv.style.opacity= .5;
	interactDiv.innerHTML = "&nbsp;";
	interactDiv.setAttribute("title", etree[ix]);
	interactDiv.setAttribute("data-ix", ix);
	interactDiv.setAttribute("data-etree", etree[ix]);
	interactDiv.setAttribute("data-audio", audio[ix]);
	interactDiv.onclick = function() { console.log(this.getAttribute("data-etree"), this.getAttribute("data-ix")); window.open(this.getAttribute("data-etree")) }
	interactDiv.oncontextmenu = function(e) { console.log(this.getAttribute("data-etree"), this.getAttribute("data-ix")); window.open(this.getAttribute("data-audio")); e.preventDefault();  }
	interactionContainer.appendChild(interactDiv);
  })
});
